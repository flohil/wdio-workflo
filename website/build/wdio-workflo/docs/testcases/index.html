<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Testcases · Wdio-Workflo</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;objective-and-overview&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#objective-and-overview&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Objective and Overview&lt;/h2&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Testcases · Wdio-Workflo"/><meta property="og:type" content="website"/><meta property="og:url" content="https://flohil.github.io/wdio-workflo/index.html"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;objective-and-overview&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#objective-and-overview&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Objective and Overview&lt;/h2&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/wdio-workflo/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/rainbow.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/wdio-workflo/css/main.css"/><script src="/wdio-workflo/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/wdio-workflo/"><img class="logo" src="/wdio-workflo/img/logo.svg" alt="Wdio-Workflo"/><h2 class="headerTitleWithLogo">Wdio-Workflo</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/wdio-workflo/docs/setup" target="_self">Guides</a></li><li class=""><a href="/wdio-workflo/demo" target="_self">Demo Page</a></li><li class=""><a href="https://github.com/flohil/wdio-workflo-example" target="_self">Examples</a></li><li class=""><a href="/wdio-workflo/apiDoc" target="_self">API</a></li><li class=""><a href="https://github.com/flohil/wdio-workflo" target="_self">Github</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Testcases</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/firstTest">Writing your first Test</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Configuration</h3><ul class=""><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/config">Configuration Options</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Architecture</h3><ul class=""><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/classes">Class Diagram</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Specs</h3><ul class=""><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/specs">Specs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Page Objects</h3><ul class=""><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/pageObjects">Page Objects</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/element">Element</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/list">List</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/map">Map</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/group">Group</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/store">Store</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/page">Page</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Steps</h3><ul class=""><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/steps">Steps</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Testcases</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/wdio-workflo/docs/testcases">Testcases</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Customizing Page Nodes</h3><ul class=""><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/customPageNodes">Introduction</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/customElement">Customizing an Element</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/customList">Customizing a List</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/customMap">Customizing a Map</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Testrunner</h3><ul class=""><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/cliOptions">CLI Options</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/runningTests">Running Tests</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/debugging">Debugging</a></li><li class="navListItem"><a class="navItem" href="/wdio-workflo/docs/reporters">Reporters</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Testcases</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="objective-and-overview"></a><a href="#objective-and-overview" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Objective and Overview</h2>
<p>Wdio-workflo's <code>testcase</code> function describe a sequence of states and state changes
in the GUI of your tested web application. From a user's perspective, testcases define all
interactions between a user and a system that take place in the context of a use case
to achieve a certain goal.</p>
<p>Similar to specs, testcases provide a <code>given</code> function to establish an initial state
and a <code>when</code> function to perform state changes. Unlike the <code>Given</code> and <code>When</code> functions
used within a <code>Story</code>, the <code>given</code> and <code>when</code> functions of a <code>testcase</code> expect a
<code>Step</code> function as parameter instead of a description written in natural language.</p>
<p>The main objective of a testcase is to validate the requirements of your tested application
which you formulated as stories and acceptance criteria in your spec files. To do so,
a testcase can invoke the <code>validate</code> function inside the <code>cb</code> callback function of each
<code>Step</code> to check the correctness of the GUI's state following the execution of a <code>Step</code>.</p>
<p>Related <code>testcase</code> functions are grouped together inside a <code>suite</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="location-and-naming-convention"></a><a href="#location-and-naming-convention" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Location and Naming Convention</h2>
<p>Testcase files are located in the <code>src/testcases</code> folder of your system test directory.
By convention, their filename always ends with <code>.tc.ts</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h2>
<p>In the <a href="/wdio-workflo/docs/specs">specs guide</a>, we defined some requirements for the registration form
of wdio-workflo's demo website.</p>
<p>Let us now write a testcase to validate the correct behavior of our application
if a user does not fill in all required form fields and tries to submit an incomplete registration!</p>
<p>In this case, an error message should be displayed which informs the
user that, in order for the registration process to succeed, all fields of the registration
form need to be filled in.</p>
<p>Let's call our testcase &quot;submit incomplete registration&quot;. You can find its implementation
in the file <code>registration.tc.ts</code> located in the folder <code>src/testcases</code> of wdio-workflo-example
repository.</p>
<pre><code class="hljs css language-typescript"><span class="hljs-keyword">import</span> { pages } <span class="hljs-keyword">from</span> <span class="hljs-string">'?/page_objects'</span>;
<span class="hljs-keyword">import</span> { steps } <span class="hljs-keyword">from</span> <span class="hljs-string">'?/steps'</span>;

suite(<span class="hljs-string">"registration"</span>, {}, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  testcase(<span class="hljs-string">"submit incomplete registration"</span>, {}, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> formData: pages.RegistrationFormData = {
      username: <span class="hljs-string">'johnDoe'</span>,
      email: <span class="hljs-string">'john.doe@example.com'</span>,
      password: <span class="hljs-string">'1234'</span>,
    };
    <span class="hljs-keyword">const</span> expectedFeedback = <span class="hljs-string">'Please fill in all fields!'</span>;

    given(steps[<span class="hljs-string">"open demo website"</span>]())
    .and(steps[<span class="hljs-string">"open page '%{page}'"</span>]({
      args: { page: pages.registration }
    }))
    .when(steps[<span class="hljs-string">"fill in registration form"</span>]({
      args: { formData }
    }))
    .and(steps[<span class="hljs-string">"submit registration form"</span>]({
      cb: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        validate({ <span class="hljs-string">"3.1"</span>: [<span class="hljs-number">2</span>] }, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
          <span class="hljs-comment">// server side validation - need to wait for feedback</span>
          expectElement(pages.registration.feedbackField).toEventuallyHaveText(expectedFeedback);
        });
      }
    }));
  });
})
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="structure"></a><a href="#structure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Structure</h2>
<p>As you can see from the example above, testcases are usually divided into two sections:</p>
<ul>
<li>The declaration and definition of all variables and input or expected data used during testcase execution</li>
<li>The sequence of chained step invocations and validation callbacks</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="syntax"></a><a href="#syntax" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax</h2>
<h3><a class="anchor" aria-hidden="true" id="suite"></a><a href="#suite" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>suite</h3>
<p>The <code>suite</code> function is used to group multiple related testcases together - e.g. all testcases
that validate the behavior of a website's registration process.</p>
<pre><code class="hljs css language-typescript">suite(<span class="hljs-string">"registration"</span>, {}, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> { <span class="hljs-comment">/*your testcases go here*/</span> })
</code></pre>
<p>It has 3 parameters:</p>
<ul>
<li>The name of the suite which should be unique across all suites</li>
<li>The metadata of the suite (reserved for future use - at the moment, this is always an empty object)</li>
<li>The body function of the suite - you can define all related <code>testcase</code> functions within its scope</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="testcase"></a><a href="#testcase" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>testcase</h3>
<p>The <code>testcase</code> function lets you define a testcase:</p>
<pre><code class="hljs css language-typescript">testcase(<span class="hljs-string">"submit incomplete registration"</span>, {}, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> { <span class="hljs-comment">/*test data and sequence of steps*/</span> }
</code></pre>
<p>It has 3 parameters:</p>
<ul>
<li>The name of the testcase which should be unique within a suite</li>
<li>The metadata of the testcase</li>
<li>The body function of the testcase used to define test data and sequences of steps</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="testcase-metadata"></a><a href="#testcase-metadata" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testcase metadata</h4>
<p>You can define the following optional properties for the metadata parameter of a <code>testcase</code>
function:</p>
<ul>
<li><code>severity</code> =&gt; How severe the implications of this testcases not passing would be</li>
<li><code>bugs</code> =&gt; If your testcase is affected by bugs which you track on e.g. JIRA, put the
bugs' JIRA keys here</li>
<li><code>testId</code> =&gt; If you manage your testcases in a test management system, put the managed test's key
here</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="given"></a><a href="#given" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>given</h3>
<p>The <code>given</code> function is used to establish an initial state for your testcase:</p>
<pre><code class="hljs css language-typescript">given(steps[<span class="hljs-string">"open demo website"</span>]())
</code></pre>
<p>It has 1 parameter:</p>
<ul>
<li>A <code>step</code> function which establishes the initial state of the testcase</li>
</ul>
<p><em>Please notice that the entries stored inside the <code>steps</code> object are step definitions
which are not the same as step functions. A step definition actually defines how
a step function should be created. Therefore, you need to execute a step definition
to receive a step function which can be passed to <code>given</code>. This is why we need to put parenthesis after our step definition: <code>steps[&quot;open demo website&quot;]()</code>.</em></p>
<p>To create a composite initial state, you can chain multiple <code>given</code> functions together
with the <code>and</code> function:</p>
<pre><code class="hljs css language-typescript">given(steps[<span class="hljs-string">"open demo website"</span>]())
.and(steps[<span class="hljs-string">"open page '%{page}'"</span>]({
  args: { page: pages.registration }
}))
</code></pre>
<p>If a step requires you to define step arguments, you can provide them within the <code>args</code>
property of the <code>step</code> function's parameter object. Our step <code>&quot;open page '%{page}'&quot;</code>,
for example, requires us to define the <code>page</code> that should be opened.</p>
<h3><a class="anchor" aria-hidden="true" id="when"></a><a href="#when" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>when</h3>
<p>The <code>when</code> function performs state changes in your testcase and represents the
interactions between a user and a system. It always needs to follow a <code>given</code> function
or an <code>and</code> function of a composite initial state:</p>
<pre><code class="hljs css language-typescript"><span class="hljs-comment">// chained to a `given` function</span>
given(steps[<span class="hljs-string">"open demo website"</span>]())
.when(steps[<span class="hljs-string">"open framework link in footer"</span>]()

<span class="hljs-comment">// chained to the `and` function of a composite initial state</span>
given(steps[<span class="hljs-string">"open demo website"</span>]())
.and(steps[<span class="hljs-string">"open page '%{page}'"</span>]({
  args: { page: pages.registration }
}))
.when(steps[<span class="hljs-string">"fill in registration form"</span>]({
  args: { formData }
}))
</code></pre>
<p>The <code>when</code> function has 1 parameter:</p>
<ul>
<li>A <code>step</code> function which changes the state of your tested application (via its GUI)</li>
</ul>
<p>Usually, a testcase contains not only one, but many state changes. Therefore,
you can chain multiple <code>when</code> functions together using the <code>and</code> function:</p>
<pre><code class="hljs css language-typescript">.when(steps[<span class="hljs-string">"fill in registration form"</span>]({
  args: { formData }
}))
.and(steps[<span class="hljs-string">"submit registration form"</span>]());
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="validate"></a><a href="#validate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>validate</h3>
<p>The <code>validate</code> function validates the specs which describe your application's requirements
by checking the correctness of the GUI state following the execution of a step.</p>
<p>It needs to be placed inside the <code>cb</code> callback function of a step:</p>
<pre><code class="hljs css language-typescript">.and(steps[<span class="hljs-string">"submit registration form"</span>]({
  cb: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    validate({ <span class="hljs-string">"3.1"</span>: [<span class="hljs-number">2</span>] }, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
      expectElement(pages.registration.feedbackField).toEventuallyHaveText(expectedFeedback);
    });
  }
}));
</code></pre>
<p>The <code>validate</code> function has 2 parameters:</p>
<ul>
<li>The validation object that identifies which specs are to be validated</li>
<li>The validation body function where you put expectation matchers to compare actual and expected results</li>
</ul>
<p>The validation object's keys are the IDs of <code>Story</code> functions. Its values are arrays
of acceptance criteria IDs (the first parameters passed to the <code>Then</code> functions of the corresponding <code>Story</code>).</p>
<h4><a class="anchor" aria-hidden="true" id="result-status-of-validated-acceptance-criteria"></a><a href="#result-status-of-validated-acceptance-criteria" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Result Status of validated Acceptance Criteria</h4>
<p>You can place one or more expectation matchers inside a validation body function.
The result of each expectation matcher will be evaluated and only if the actual and
the expected value match for each of them, the result status of the acceptance criteria
defined within the validation object will be marked as <code>passed</code>.</p>
<p>If just a single expectation matcher fails (the actual value does not match the expected one),
the result status of the validated acceptance criteria will be marked as <code>failed</code>.</p>
<p>If a runtime error occurs within a validation body function, the result status
of the validated acceptance criteria will always be marked as <code>broken</code>.</p>
<p>If a runtime error occurred somewhere else inside a testcase and before the invocation of the validation body function, the result status of the validated acceptance criteria will be marked as <code>unvalidated</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="expectation-matchers"></a><a href="#expectation-matchers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expectation Matchers</h2>
<h3><a class="anchor" aria-hidden="true" id="overview"></a><a href="#overview" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h3>
<p>Expectation matchers are used to compare an actual value with an expected value.
If both values match, the expectation matcher passes. If the two values differ,
the expectation matcher fails.</p>
<p>Expectation matchers always consist of two functions: an <code>expect</code> function and a
matcher function whose name usually starts with the word <code>to</code>:</p>
<pre><code class="hljs css language-typescript">expect(actualUrl).toEqual(expectedUrl)
</code></pre>
<p>The <code>expect</code> function is passed the actual value and the matcher function is
passed the expected value.</p>
<h3><a class="anchor" aria-hidden="true" id="default-expectation-matchers"></a><a href="#default-expectation-matchers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Default Expectation Matchers</h3>
<p>Wdio-workflo supports all of the expectation matchers provided by the <a href="https://jasmine.github.io/">Jasmine</a> test framework and the <a href="https://www.npmjs.com/package/jasmine-expect">jasmine-expect</a> matcher library.</p>
<p>The most commonly used default expectation matchers are <code>toBe</code> to compare
the values of booleans or numbers and <code>toEqual</code> to compare the values of strings, arrays and objects. The <code>toContain</code> matcher checks if arrays contain a specific value.</p>
<h3><a class="anchor" aria-hidden="true" id="custom-expectation-matchers"></a><a href="#custom-expectation-matchers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Expectation Matchers</h3>
<p>In addition, wdio-workflo also ships with a couple of custom expectation matchers
written specifically for page objects. It is recommended to use these custom
expectation matchers whenever possible to produce more meaningful validation failure messages.</p>
<p>There are five types of custom expectation matchers provided by wdio-workflo:</p>
<ul>
<li><code>expectElement</code> takes an instance of the <code>PageElement</code> class</li>
<li><code>expectList</code> takes an instance of the <code>PageElementList</code> class</li>
<li><code>expectMap</code> takes an instance of the <code>PageElementMap</code> class</li>
<li><code>expectGroup</code> takes an instance of the <code>PageElementGroup</code> class</li>
<li><code>expectPage</code> takes an instance of the <code>Page</code> class</li>
</ul>
<p>The <code>matcher</code> functions of these custom expectation matchers usually come
in two variants:</p>
<ul>
<li>One variant checks if a page object's attribute currently matches an expected value</li>
<li>Another variant checks if a page object's attribute eventually matches an expected value</li>
</ul>
<p>Both variants follow a naming convention: the &quot;currently&quot; matchers are named <code>toXXX</code>,
the &quot;eventually&quot; matchers are named <code>toEventuallyXXX</code>.</p>
<p>The &quot;eventually&quot; matchers remove the need to put explicit waiting statements
before a comparison and can optionally be passed a specific timeout in milliseconds:</p>
<pre><code class="hljs css language-typescript">expectElement(submitButton).toEventuallyBeVisible({timeout: <span class="hljs-number">2500</span>})
</code></pre>
<p>If you do not explicitly specify a timeout value for &quot;eventually&quot; matchers,
the page object's default timeout value will be used.</p>
<p>The main advantage of wdio-workflo's custom expectation matchers is that they
provide more meaningful failure messages which include:</p>
<ul>
<li>the name of the page object</li>
<li>a description of the kind of comparison which failed</li>
<li>the XPath selector of a page element</li>
<li>the timeout used for &quot;eventually&quot; matchers</li>
</ul>
<p><img src="/wdio-workflo/docs/assets/custom_expectation_matcher_failure.png" alt="Custom expectation matcher failure"></p>
<h2><a class="anchor" aria-hidden="true" id="testcases-in-test-reports"></a><a href="#testcases-in-test-reports" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testcases in Test Reports</h2>
<h3><a class="anchor" aria-hidden="true" id="testcases-in-spec-reports"></a><a href="#testcases-in-spec-reports" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testcases in Spec Reports</h3>
<p>Wdio-workflo's <a href="/wdio-workflo/docs/reporters#spec-reporter">spec report</a> shows the result status of each testcase, grouped by suites.</p>
<p>If you set the value of the <code>consoleLogLevel</code> config option in your <code>workflo.conf.ts</code> file to <code>&quot;testcases&quot;</code>, the name of each testcase will be displayed in the console when the testcase starts.
If you set the value of <code>consoleLogLevel</code> to <code>&quot;steps&quot;</code>, each step and its parameters will
additionally be written to the console window.</p>
<p>A list of all validation failures and runtime errors will be shown below each suite of testcases.
If you want to display validation failures and runtime errors immediately, set the
value of the <code>reportErrorsInstantly</code> config option to <code>true</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="testcases-in-allure-reports"></a><a href="#testcases-in-allure-reports" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testcases in Allure Reports</h3>
<p>If you want to see more detailed information about your testcases,
you need to view their results in wdio-workflo's <a href="/wdio-workflo/docs/reporters#allure-reporter">Allure report</a>.</p>
<p>Open the &quot;Behaviors&quot; page in your Allure report, locate your suite within the &quot;Testcases&quot; group
and select a testcase. You will see a sequence of all executed steps on the right side of the page:</p>
<p><img src="/wdio-workflo/docs/assets/testcases_details_view_allure_report.png" alt="Detailed view of a testcase"></p>
<p>The details view also shows you which specs were validated by your testcase,
and, if any errors or validation failures ocurred, it will display
error stacktraces and screenshots of the GUI (if you expand the corresponding step)
at the time of failure.</p>
<p>Furthermore, the report displays the <code>severity</code> and the duration of the testcase, as well as the <code>testId</code> and the <code>bugs</code> defined in the metadata parameter of the <code>testcase</code> function as clickable links which take you to the corresponding JIRA issue page, for example.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/wdio-workflo/docs/steps"><span class="arrow-prev">← </span><span>Steps</span></a><a class="docs-next button" href="/wdio-workflo/docs/customPageNodes"><span>Introduction</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#objective-and-overview">Objective and Overview</a></li><li><a href="#location-and-naming-convention">Location and Naming Convention</a></li><li><a href="#example">Example</a></li><li><a href="#structure">Structure</a></li><li><a href="#syntax">Syntax</a><ul class="toc-headings"><li><a href="#suite">suite</a></li><li><a href="#testcase">testcase</a></li><li><a href="#given">given</a></li><li><a href="#when">when</a></li><li><a href="#validate">validate</a></li></ul></li><li><a href="#expectation-matchers">Expectation Matchers</a><ul class="toc-headings"><li><a href="#overview">Overview</a></li><li><a href="#default-expectation-matchers">Default Expectation Matchers</a></li><li><a href="#custom-expectation-matchers">Custom Expectation Matchers</a></li></ul></li><li><a href="#testcases-in-test-reports">Testcases in Test Reports</a><ul class="toc-headings"><li><a href="#testcases-in-spec-reports">Testcases in Spec Reports</a></li><li><a href="#testcases-in-allure-reports">Testcases in Allure Reports</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/wdio-workflo/" class="nav-home"><img src="/wdio-workflo/img/logo.svg" alt="Wdio-Workflo" width="66" height="58"/></a><div><h5>Docs</h5><a href="/wdio-workflo/docs/setup">Guides</a><a href="https://github.com/flohil/wdio-workflo-example">Examples</a><a href="./apiDoc">API Reference</a></div><div></div><div><h5>More</h5><a href="https://github.com/flohil/wdio-workflo">GitHub</a><a class="github-button" href="https://github.com/flohil/wdio-workflo" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 Florian Hilbinger</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'undefined',
                indexName: 'undefined',
                inputSelector: '#search_input_react'
              });
            </script></body></html>